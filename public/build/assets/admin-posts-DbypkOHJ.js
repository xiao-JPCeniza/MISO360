import{d as q,C as J,g as S,r as m,c as i,a as r,u as s,h as Q,w as a,b as e,l as x,e as d,T as R,k as j,o as n,t as u,j as $,D as W,v as X,E as Z,F as D,n as ee,G as te,p as re,m as T,s as v}from"./app-DVCWSj2L.js";import{_ as M,a as P,b as E,c as U,d as V}from"./DialogTitle.vue_vue_type_script_setup_true_lang-De-wbRAN.js";import{_ as N}from"./DialogFooter.vue_vue_type_script_setup_true_lang-BkkOzTbH.js";import{_ as se}from"./AppLayout.vue_vue_type_script_setup_true_lang-D34gs3oJ.js";import{d as oe}from"./lazy-CSzc0j1S.js";import{I as p}from"./image-DRlZi1gn.js";import{E as ae,a as le,H as ne,P as ie,A as de,T as ue}from"./trash-2-BZf62Tpq.js";const ce={class:"flex flex-1 flex-col gap-8 p-6"},fe={class:"rounded-3xl border border-sidebar-border/50 bg-linear-to-br from-card to-card/80 p-6 shadow-lg shadow-black/5 dark:from-card dark:to-card/90 dark:shadow-black/20"},me={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},pe={key:0,class:"mt-4 flex items-center gap-3 rounded-xl border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm text-emerald-800 shadow-sm dark:border-emerald-500/30 dark:bg-emerald-500/15 dark:text-emerald-200",role:"status"},be={class:"mt-6 flex flex-wrap items-center gap-3"},ge={class:"relative flex-1 min-w-[200px]"},he={class:"space-y-4"},xe={key:0,class:"rounded-2xl border-2 border-dashed border-sidebar-border/60 bg-muted/20 p-12 text-center"},ve={class:"mx-auto flex h-14 w-14 items-center justify-center rounded-2xl bg-muted/60"},ye={key:1,class:"grid gap-5 sm:grid-cols-2 lg:grid-cols-3"},we={class:"relative aspect-video w-full overflow-hidden bg-muted/40"},_e=["src","alt"],ke={key:1,class:"flex h-full w-full items-center justify-center text-muted-foreground"},Ce={class:"absolute left-3 top-3 flex flex-wrap gap-2"},Ae={class:"rounded-lg bg-black/50 px-2 py-1 text-xs font-medium text-white backdrop-blur-sm"},Se=["title"],je={class:"flex flex-1 flex-col gap-3 p-4"},$e={class:"line-clamp-2 font-semibold leading-snug text-foreground"},De={key:0,class:"line-clamp-2 text-sm text-muted-foreground"},Te={class:"mt-auto flex items-center justify-between gap-2 border-t border-sidebar-border/50 pt-3"},Me={class:"flex items-center gap-1.5 text-xs text-muted-foreground"},Pe={class:"flex items-center gap-2"},Ee=["onClick"],Ue=["onClick"],He=q({__name:"Index",props:{slides:{},filters:{}},setup(O){const b=O,y=J(),w=S(()=>y.props.flash?.status??null),B=m(!!y.props.flash?.status),I=[{title:"Dashboard",href:oe().url},{title:"Post Management",href:"/admin/posts"}],g=m(b.filters.search),h=m(b.filters.sort),c=m(null),f=m(null),_=S(()=>b.slides);function k(){v.get("/admin/posts",{search:g.value,sort:h.value},{preserveState:!0})}function F(l){c.value=l}function C(){c.value=null}function z(){if(c.value===null)return;const l=c.value.id;v.delete(`/admin/posts/${l}`,{preserveScroll:!0,onSuccess:()=>{c.value=null}})}function H(l){f.value=l}function A(){f.value=null}function K(){if(f.value===null)return;const l=f.value.id;v.patch(`/admin/posts/${l}/archive`,{},{preserveScroll:!0,onSuccess:()=>{f.value=null}})}function L(l,t=60){return l?l.length<=t?l:l.slice(0,t).trim()+"…":""}return(l,t)=>(n(),i(D,null,[r(s(Q),{title:"Post Management"}),r(se,{breadcrumbs:I},{default:a(()=>[e("div",ce,[e("section",fe,[e("div",me,[t[5]||(t[5]=e("div",{class:"space-y-1"},[e("p",{class:"text-xs font-semibold uppercase tracking-[0.25em] text-primary/80"}," Super Admin "),e("h1",{class:"text-2xl font-bold tracking-tight text-foreground sm:text-3xl"}," Post Management "),e("p",{class:"max-w-lg text-sm text-muted-foreground"}," Manage profile slides shown on the homepage. Create, reorder, and toggle visibility with a few clicks. ")],-1)),r(s(x),{href:"/admin/posts/create",class:"inline-flex shrink-0 items-center gap-2 rounded-xl bg-primary px-5 py-2.5 text-sm font-semibold text-primary-foreground shadow-md shadow-primary/25 transition-all duration-200 hover:shadow-lg hover:shadow-primary/30 hover:brightness-105 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"},{default:a(()=>[r(s(p),{class:"h-4 w-4"}),t[4]||(t[4]=d(" Add slide ",-1))]),_:1})]),r(R,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"opacity-0 translate-y-1","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:a(()=>[w.value&&B.value?(n(),i("div",pe,[t[6]||(t[6]=e("span",{class:"h-2 w-2 shrink-0 rounded-full bg-emerald-500"},null,-1)),d(" "+u(w.value),1)])):j("",!0)]),_:1}),e("div",be,[e("div",ge,[$(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>g.value=o),type:"search",placeholder:"Search by title or subtitle…",class:"w-full rounded-xl border border-sidebar-border/70 bg-background py-2.5 pl-4 pr-4 text-sm transition-shadow focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",onKeyup:W(k,["enter"])},null,544),[[X,g.value]])]),$(e("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>h.value=o),class:"rounded-xl border border-sidebar-border/70 bg-background px-4 py-2.5 text-sm transition-shadow focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"},[...t[7]||(t[7]=[e("option",{value:"order"},"Sort by order",-1),e("option",{value:"latest"},"Latest updated",-1),e("option",{value:"active"},"Active first",-1)])],512),[[Z,h.value]]),e("button",{type:"button",class:"rounded-xl border border-sidebar-border/70 bg-muted/50 px-4 py-2.5 text-sm font-medium transition-all hover:bg-muted focus:outline-none focus:ring-2 focus:ring-primary/20",onClick:k}," Apply ")])]),e("section",he,[_.value.length===0?(n(),i("div",xe,[e("div",ve,[r(s(p),{class:"h-7 w-7 text-muted-foreground"})]),t[9]||(t[9]=e("p",{class:"mt-4 font-medium text-foreground"},"No slides yet",-1)),t[10]||(t[10]=e("p",{class:"mt-1 text-sm text-muted-foreground"}," Add your first slide to show a carousel on the profile section. ",-1)),r(s(x),{href:"/admin/posts/create",class:"mt-6 inline-flex items-center gap-2 rounded-xl bg-primary px-5 py-2.5 text-sm font-semibold text-primary-foreground transition-all hover:brightness-105"},{default:a(()=>[r(s(p),{class:"h-4 w-4"}),t[8]||(t[8]=d(" Add slide ",-1))]),_:1})])):(n(),i("div",ye,[(n(!0),i(D,null,ee(_.value,(o,G)=>(n(),i("div",{key:o.id,class:"group relative flex flex-col overflow-hidden rounded-2xl border border-sidebar-border/50 bg-card shadow-md shadow-black/5 transition-all duration-300 hover:-translate-y-0.5 hover:shadow-xl hover:shadow-primary/5 dark:border-white/10 dark:shadow-black/15 dark:hover:shadow-primary/10",style:te({animationDelay:`${G*50}ms`})},[e("div",we,[o.imageUrl?(n(),i("img",{key:0,src:o.imageUrl,alt:o.title,class:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"},null,8,_e)):(n(),i("div",ke,[r(s(p),{class:"h-12 w-12 opacity-50"})])),e("div",Ce,[e("span",{class:re(["inline-flex items-center gap-1 rounded-lg px-2 py-1 text-xs font-medium backdrop-blur-sm",o.isActive?"bg-emerald-500/90 text-white dark:bg-emerald-500/80":"bg-rose-500/90 text-white dark:bg-rose-500/80"])},[o.isActive?(n(),T(s(ae),{key:0,class:"h-3 w-3"})):(n(),T(s(le),{key:1,class:"h-3 w-3"})),d(" "+u(o.isActive?"Active":"Inactive"),1)],2),e("span",Ae,u(o.textPosition),1)]),e("span",{class:"absolute right-3 top-3 flex h-8 w-8 items-center justify-center rounded-lg bg-black/50 text-xs font-bold text-white backdrop-blur-sm",title:`Order: ${o.sortOrder}`},u(o.sortOrder),9,Se)]),e("div",je,[e("h3",$e,u(o.title),1),o.subtitle?(n(),i("p",De,u(L(o.subtitle)),1)):j("",!0),e("div",Te,[e("span",Me,[r(s(ne),{class:"h-3.5 w-3.5"}),d(" "+u(o.sortOrder),1)]),e("div",Pe,[r(s(x),{href:`/admin/posts/${o.id}/edit`,class:"inline-flex h-9 w-9 items-center justify-center rounded-lg border border-sidebar-border/60 bg-muted/40 text-muted-foreground transition-all hover:bg-primary hover:text-primary-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-ring",title:"Edit"},{default:a(()=>[r(s(ie),{class:"h-4 w-4"})]),_:1},8,["href"]),e("button",{type:"button",class:"inline-flex h-9 w-9 items-center justify-center rounded-lg border border-amber-200 text-amber-600 transition-all hover:bg-amber-500 hover:text-white focus:outline-none focus:ring-2 focus:ring-amber-500/50 dark:border-amber-500/40",title:"Archive",onClick:Y=>H(o)},[r(s(de),{class:"h-4 w-4"})],8,Ee),e("button",{type:"button",class:"inline-flex h-9 w-9 items-center justify-center rounded-lg border border-rose-200 text-rose-600 transition-all hover:bg-rose-500 hover:text-white focus:outline-none focus:ring-2 focus:ring-rose-500/50 dark:border-rose-500/40",title:"Delete",onClick:Y=>F(o)},[r(s(ue),{class:"h-4 w-4"})],8,Ue)])])])],4))),128))]))])]),r(s(M),{open:f.value!==null,"onUpdate:open":t[2]||(t[2]=o=>!o&&A())},{default:a(()=>[r(s(P),{class:"sm:max-w-md rounded-2xl border border-sidebar-border/60 shadow-2xl"},{default:a(()=>[r(s(E),null,{default:a(()=>[r(s(U),{id:"archive-title",class:"text-lg font-semibold text-foreground"},{default:a(()=>[...t[11]||(t[11]=[d(" Archive this slide? ",-1)])]),_:1}),r(s(V),null,{default:a(()=>[d(" “"+u(f.value?.title)+"” will be removed from the carousel and stored in the archive. You can restore it later from the archive. ",1)]),_:1})]),_:1}),r(s(N),{class:"flex justify-end gap-3 sm:justify-end"},{default:a(()=>[e("button",{type:"button",class:"rounded-xl border border-sidebar-border/70 px-4 py-2.5 text-sm font-medium transition-colors hover:bg-muted/60",onClick:A}," Cancel "),e("button",{type:"button",class:"rounded-xl bg-amber-600 px-4 py-2.5 text-sm font-semibold text-white transition-colors hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2",onClick:K}," Archive ")]),_:1})]),_:1})]),_:1},8,["open"]),r(s(M),{open:c.value!==null,"onUpdate:open":t[3]||(t[3]=o=>!o&&C())},{default:a(()=>[r(s(P),{class:"sm:max-w-md rounded-2xl border border-sidebar-border/60 shadow-2xl"},{default:a(()=>[r(s(E),null,{default:a(()=>[r(s(U),{id:"delete-title",class:"text-lg font-semibold text-foreground"},{default:a(()=>[...t[12]||(t[12]=[d(" Delete this slide? ",-1)])]),_:1}),r(s(V),null,{default:a(()=>[d(" “"+u(c.value?.title)+"” and its image will be removed permanently. This can’t be undone. ",1)]),_:1})]),_:1}),r(s(N),{class:"flex justify-end gap-3 sm:justify-end"},{default:a(()=>[e("button",{type:"button",class:"rounded-xl border border-sidebar-border/70 px-4 py-2.5 text-sm font-medium transition-colors hover:bg-muted/60",onClick:C}," Cancel "),e("button",{type:"button",class:"rounded-xl bg-rose-600 px-4 py-2.5 text-sm font-semibold text-white transition-colors hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-rose-500 focus:ring-offset-2",onClick:z}," Delete ")]),_:1})]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{He as default};
