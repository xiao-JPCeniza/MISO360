import{d as I,g as m,c as d,a as u,u as b,h as N,w as f,b as e,k as a,t as o,e as r,o as i,m as w,p as S,l as x,F as p,n as H,s as D}from"./app-DVCWSj2L.js";import{_ as $}from"./AppLayout.vue_vue_type_script_setup_true_lang-D34gs3oJ.js";import{d as B}from"./lazy-CSzc0j1S.js";const M={class:"flex flex-1 flex-col gap-6 p-6"},T={class:"rounded-3xl border border-sidebar-border/60 bg-background p-6"},R={class:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between"},C={class:"space-y-2"},E={class:"text-2xl font-semibold"},O={class:"text-sm text-muted-foreground"},V={key:0},L={key:1},P={class:"flex flex-wrap gap-3"},U={class:"grid gap-4 lg:grid-cols-3"},j={class:"rounded-2xl border border-sidebar-border/60 bg-background p-5"},F={class:"mt-3 text-lg font-semibold"},W={class:"rounded-2xl border border-sidebar-border/60 bg-background p-5"},z={class:"mt-3 text-lg font-semibold"},G={class:"rounded-2xl border border-sidebar-border/60 bg-background p-5"},J={class:"mt-3 text-lg font-semibold"},K={class:"grid gap-4 lg:grid-cols-2"},Q={class:"rounded-2xl border border-sidebar-border/60 bg-background p-6"},X={class:"mt-4 grid gap-3 text-sm text-muted-foreground"},Y={class:"rounded-2xl border border-sidebar-border/60 bg-background p-6"},Z={class:"mt-4 rounded-xl border border-dashed border-sidebar-border/70 p-4 text-sm text-muted-foreground"},_={key:0,class:"flex flex-wrap gap-3"},ee=["src","alt"],te={key:1},se={key:0,class:"mt-4 text-xs text-amber-600"},oe={key:0,class:"rounded-2xl border border-sidebar-border/60 bg-background p-6"},re={class:"mt-4 grid gap-3 text-sm text-muted-foreground sm:grid-cols-2"},ie={key:1,class:"rounded-2xl border border-sidebar-border/60 bg-background p-6"},ne={class:"mt-4 grid gap-3 text-sm text-muted-foreground sm:grid-cols-2"},de={class:"rounded-2xl border border-sidebar-border/60 bg-background p-6"},ae={key:0,class:"mt-4 grid gap-3 text-sm text-muted-foreground sm:grid-cols-2"},le={key:1,class:"mt-3 text-sm text-muted-foreground"},me={key:2,class:"rounded-2xl border border-sidebar-border/60 bg-background p-6"},ue={class:"mt-4 grid gap-3 text-sm text-muted-foreground sm:grid-cols-2"},ce=I({__name:"InventoryItem",props:{item:{},status:{}},setup(s){const n=s,g=m(()=>n.item.equipmentImageUrls.map(l=>l.startsWith("http")?l:`/storage/${l}`)),y=[{title:"Dashboard",href:B().url},{title:"Inventory",href:"/inventory"},{title:n.item.uniqueId,href:`/inventory/${n.item.uniqueId}`}],v=m(()=>!!(n.item.specification.memory||n.item.specification.storage||n.item.specification.operatingSystem||n.item.specification.networkAddress||n.item.specification.accessories)),k=m(()=>!!(n.item.locationAssignment.assignedTo||n.item.locationAssignment.officeDivision||n.item.locationAssignment.dateIssued)),q=m(()=>!!(n.item.scheduledMaintenance.date||n.item.scheduledMaintenance.remarks));function h(){D.post(`/inventory/${n.item.uniqueId}/archive`)}return(l,t)=>(i(),d(p,null,[u(b(N),{title:`${s.item.equipmentName} | Inventory`},null,8,["title"]),u($,{breadcrumbs:y},{default:f(()=>[e("div",M,[e("section",T,[e("div",R,[e("div",C,[t[0]||(t[0]=e("p",{class:"text-xs uppercase tracking-[0.3em] text-muted-foreground"}," Inventory Record ",-1)),e("h1",E,o(s.item.equipmentName),1),e("p",O,[r(" Unique ID "+o(s.item.uniqueId)+" ",1),s.item.brand?(i(),d("span",V," • "+o(s.item.brand),1)):a("",!0),s.item.model?(i(),d("span",L," • "+o(s.item.model),1)):a("",!0)])]),e("div",P,[e("span",{class:S(["inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold",s.status==="active"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-500/20 dark:text-emerald-200":"bg-amber-100 text-amber-700 dark:bg-amber-500/20 dark:text-amber-200"])},o(s.status==="active"?"Active asset":"Archived asset"),3),s.status==="active"?(i(),w(b(x),{key:0,href:`/inventory/${s.item.uniqueId}/edit`,class:"rounded-full border border-sidebar-border/70 px-4 py-2 text-sm font-semibold text-muted-foreground transition-colors hover:bg-muted/40"},{default:f(()=>[...t[1]||(t[1]=[r(" Edit enrollment ",-1)])]),_:1},8,["href"])):a("",!0),s.status==="active"?(i(),d("button",{key:1,type:"button",class:"rounded-full bg-amber-600 px-4 py-2 text-sm font-semibold text-white transition-colors hover:bg-amber-700",onClick:h}," Archive item ")):a("",!0),u(b(x),{href:"/inventory",class:"rounded-full border border-sidebar-border/70 px-4 py-2 text-sm font-semibold text-muted-foreground transition-colors hover:bg-muted/40"},{default:f(()=>[...t[2]||(t[2]=[r(" Back to Inventory ",-1)])]),_:1})])])]),e("section",U,[e("div",j,[t[3]||(t[3]=e("p",{class:"text-xs uppercase tracking-[0.2em] text-muted-foreground"}," Equipment type ",-1)),e("p",F,o(s.item.equipmentType||"Not specified"),1)]),e("div",W,[t[4]||(t[4]=e("p",{class:"text-xs uppercase tracking-[0.2em] text-muted-foreground"}," Serial number ",-1)),e("p",z,o(s.item.serialNumber||"Not recorded"),1)]),e("div",G,[t[5]||(t[5]=e("p",{class:"text-xs uppercase tracking-[0.2em] text-muted-foreground"}," Asset tag ",-1)),e("p",J,o(s.item.assetTag||"Not recorded"),1)])]),e("section",K,[e("div",Q,[t[10]||(t[10]=e("h2",{class:"text-base font-semibold"},"Procurement & warranty",-1)),e("div",X,[e("p",null,[t[6]||(t[6]=e("span",{class:"font-semibold text-foreground"},"Supplier:",-1)),r(" "+o(s.item.supplier||"Not specified"),1)]),e("p",null,[t[7]||(t[7]=e("span",{class:"font-semibold text-foreground"},"Purchase date:",-1)),r(" "+o(s.item.purchaseDate||"Not recorded"),1)]),e("p",null,[t[8]||(t[8]=e("span",{class:"font-semibold text-foreground"},"Expiry date:",-1)),r(" "+o(s.item.expiryDate||"Not recorded"),1)]),e("p",null,[t[9]||(t[9]=e("span",{class:"font-semibold text-foreground"},"Warranty status:",-1)),r(" "+o(s.item.warrantyStatus||"Not recorded"),1)])])]),e("div",Y,[t[11]||(t[11]=e("h2",{class:"text-base font-semibold"},"Equipment image",-1)),e("div",Z,[g.value.length?(i(),d("div",_,[(i(!0),d(p,null,H(g.value,(A,c)=>(i(),d("img",{key:`image-${c}`,src:A,alt:`${s.item.equipmentName} photo ${c+1}`,class:"h-20 w-20 rounded-xl object-cover"},null,8,ee))),128))])):(i(),d("p",te,"Images not provided."))]),s.status==="archived"&&s.item.archivedAt?(i(),d("p",se," Archived on "+o(s.item.archivedAt),1)):a("",!0)])]),v.value?(i(),d("section",oe,[t[17]||(t[17]=e("h2",{class:"text-base font-semibold"},"Specification",-1)),e("div",re,[e("p",null,[t[12]||(t[12]=e("span",{class:"font-semibold text-foreground"},"Memory:",-1)),r(" "+o(s.item.specification.memory||"—"),1)]),e("p",null,[t[13]||(t[13]=e("span",{class:"font-semibold text-foreground"},"Storage:",-1)),r(" "+o(s.item.specification.storage||"—"),1)]),e("p",null,[t[14]||(t[14]=e("span",{class:"font-semibold text-foreground"},"Operating system:",-1)),r(" "+o(s.item.specification.operatingSystem||"—"),1)]),e("p",null,[t[15]||(t[15]=e("span",{class:"font-semibold text-foreground"},"Network/IP:",-1)),r(" "+o(s.item.specification.networkAddress||"—"),1)]),e("p",null,[t[16]||(t[16]=e("span",{class:"font-semibold text-foreground"},"Accessories:",-1)),r(" "+o(s.item.specification.accessories||"—"),1)])])])):a("",!0),k.value?(i(),d("section",ie,[t[21]||(t[21]=e("h2",{class:"text-base font-semibold"},"Location & Assignment",-1)),e("div",ne,[e("p",null,[t[18]||(t[18]=e("span",{class:"font-semibold text-foreground"},"Assigned to:",-1)),r(" "+o(s.item.locationAssignment.assignedTo||"—"),1)]),e("p",null,[t[19]||(t[19]=e("span",{class:"font-semibold text-foreground"},"Office/division:",-1)),r(" "+o(s.item.locationAssignment.officeDivision||"—"),1)]),e("p",null,[t[20]||(t[20]=e("span",{class:"font-semibold text-foreground"},"Date issued:",-1)),r(" "+o(s.item.locationAssignment.dateIssued||"—"),1)])])])):a("",!0),e("section",de,[t[27]||(t[27]=e("h2",{class:"text-base font-semibold"},"Request History",-1)),s.item.requestHistory.natureOfRequest||s.item.requestHistory.date||s.item.requestHistory.actionTaken||s.item.requestHistory.assignedStaff||s.item.requestHistory.remarks?(i(),d("div",ae,[e("p",null,[t[22]||(t[22]=e("span",{class:"font-semibold text-foreground"},"Nature of request:",-1)),r(" "+o(s.item.requestHistory.natureOfRequest||"—"),1)]),e("p",null,[t[23]||(t[23]=e("span",{class:"font-semibold text-foreground"},"Date:",-1)),r(" "+o(s.item.requestHistory.date||"—"),1)]),e("p",null,[t[24]||(t[24]=e("span",{class:"font-semibold text-foreground"},"Action taken:",-1)),r(" "+o(s.item.requestHistory.actionTaken||"—"),1)]),e("p",null,[t[25]||(t[25]=e("span",{class:"font-semibold text-foreground"},"Assigned staff:",-1)),r(" "+o(s.item.requestHistory.assignedStaff||"—"),1)]),e("p",null,[t[26]||(t[26]=e("span",{class:"font-semibold text-foreground"},"Remarks:",-1)),r(" "+o(s.item.requestHistory.remarks||"—"),1)])])):(i(),d("p",le," No maintenance or service history recorded yet. "))]),q.value?(i(),d("section",me,[t[30]||(t[30]=e("h2",{class:"text-base font-semibold"},"Scheduled Maintenance",-1)),e("div",ue,[e("p",null,[t[28]||(t[28]=e("span",{class:"font-semibold text-foreground"},"Date:",-1)),r(" "+o(s.item.scheduledMaintenance.date||"—"),1)]),e("p",null,[t[29]||(t[29]=e("span",{class:"font-semibold text-foreground"},"Remarks:",-1)),r(" "+o(s.item.scheduledMaintenance.remarks||"—"),1)])])])):a("",!0)])]),_:1})],64))}});export{ce as default};
