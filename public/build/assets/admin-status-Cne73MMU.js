import{d as R,H as _,f as u,g as w,c as a,a as g,u as F,h as j,w as M,b as e,o as i,F as x,n as y,t as n,j as v,v as C,k as S,p as q,s as z}from"./app-Cclhwly9.js";import{_ as B}from"./AppLayout.vue_vue_type_script_setup_true_lang-pl8mKwt0.js";import{d as I}from"./lazy-CSzc0j1S.js";const T={class:"flex flex-1 flex-col gap-6 p-6"},O={class:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between"},P={class:"space-y-2"},H={class:"text-lg font-semibold"},G={class:"text-sm text-muted-foreground"},J={class:"flex flex-wrap items-center gap-3"},Q={class:"rounded-full border border-sidebar-border/60 px-4 py-2 text-xs font-semibold uppercase tracking-[0.2em] text-muted-foreground"},W=["onUpdate:modelValue","placeholder"],X={class:"mt-5 rounded-2xl border border-sidebar-border/60 bg-muted/10 p-5"},Y={class:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between"},Z={class:"text-sm font-semibold"},K=["onClick"],ee={class:"mt-4 grid gap-4 lg:grid-cols-[1fr_auto] lg:items-end"},te={class:"text-xs font-semibold uppercase tracking-[0.2em] text-muted-foreground"},se=["onUpdate:modelValue","placeholder"],oe={key:0,class:"mt-2 text-xs text-red-500"},re=["disabled","onClick"],de={class:"mt-6"},ne={key:0,class:"rounded-2xl border border-dashed border-sidebar-border/70 p-6 text-center text-sm text-muted-foreground"},ae={key:1,class:"overflow-hidden rounded-2xl border border-sidebar-border/60"},ie={class:"divide-y divide-sidebar-border/60"},le={class:"font-semibold"},ce={class:"text-xs text-muted-foreground"},ue={class:"text-xs text-muted-foreground"},me={class:"flex flex-wrap justify-end gap-2"},fe=["onClick"],be=["onClick"],pe=["onClick"],_e=R({__name:"Index",props:{groups:{}},setup(A){const m=A,$=[{title:"Dashboard",href:I().url},{title:"Status Management",href:"/admin/status"}],f=[{key:"status",title:"Status",description:"Control the lifecycle labels used across request tracking.",placeholder:"Pending, Ongoing, Completed",emptyLabel:"No statuses match this search."},{key:"category",title:"Category",description:"Define asset categories that appear in ticket enrollments.",placeholder:"Simple, Complex, Urgent",emptyLabel:"No categories match this search."},{key:"officeDesignation",title:"Office Designation",description:"Set the office or division identifiers used in assignments.",placeholder:"Add office or division",emptyLabel:"No office designations match this search."},{key:"remarks",title:"Remarks",description:"Standardize commonly used remarks for requests.",placeholder:"For Pickup, To Deliver, Remote",emptyLabel:"No remarks match this search."}],b=_({status:"",category:"",officeDesignation:"",remarks:""}),l=_({status:null,category:null,officeDesignation:null,remarks:null}),d={status:u({name:"",is_active:!0,group_key:"status"}),category:u({name:"",is_active:!0,group_key:"category"}),officeDesignation:u({name:"",is_active:!0,group_key:"office_designation"}),remarks:u({name:"",is_active:!0,group_key:"remarks"})},D=w(()=>f.reduce((s,o)=>({...s,[o.key]:m.groups[o.key].length}),{}));function h(s){const o=b[s].trim().toLowerCase();return o?m.groups[s].filter(t=>t.name.toLowerCase().includes(o)):m.groups[s]}function p(s){return l[s]!==null}function c(s){l[s]=null,d[s].reset(),d[s].clearErrors()}function L(s,o){l[s]=o.id,d[s].name=o.name,d[s].is_active=o.isActive,d[s].clearErrors()}function U(s){const o=d[s],t=l[s];if(t){o.patch(`/admin/status/${t}`,{preserveScroll:!0,onSuccess:()=>c(s)});return}o.post("/admin/status",{preserveScroll:!0,onSuccess:()=>c(s)})}function V(s,o){confirm(`Remove "${o.name}" from ${N(s)}?`)&&z.delete(`/admin/status/${o.id}`,{preserveScroll:!0,onSuccess:()=>{l[s]===o.id&&c(s)}})}function E(s,o){d[s].patch(`/admin/status/${o.id}`,{name:o.name,is_active:!0},{preserveScroll:!0})}function N(s){return f.find(o=>o.key===s)?.title??"this group"}return(s,o)=>(i(),a(x,null,[g(F(j),{title:"Status Management"}),g(B,{breadcrumbs:$},{default:M(()=>[e("div",T,[o[2]||(o[2]=e("section",{class:"rounded-3xl border border-sidebar-border/60 bg-background p-6"},[e("div",{class:"space-y-2"},[e("p",{class:"text-xs uppercase tracking-[0.3em] text-muted-foreground"}," Administration "),e("h1",{class:"text-2xl font-semibold"},"Status Management"),e("p",{class:"text-sm text-muted-foreground"}," Centralize the status, category, office designation, and remark options used throughout the platform. ")])],-1)),(i(),a(x,null,y(f,t=>e("section",{key:t.key,class:"rounded-3xl border border-sidebar-border/60 bg-background p-6"},[e("div",O,[e("div",P,[e("h2",H,n(t.title),1),e("p",G,n(t.description),1)]),e("div",J,[e("div",Q," Total: "+n(D.value[t.key]??0),1),v(e("input",{"onUpdate:modelValue":r=>b[t.key]=r,type:"search",placeholder:`Search ${t.title.toLowerCase()}...`,class:"h-10 w-64 rounded-full border border-sidebar-border/70 bg-background px-4 text-sm"},null,8,W),[[C,b[t.key]]])])]),e("div",X,[e("div",Y,[e("div",null,[e("h3",Z,n(p(t.key)?"Edit value":"Add a value"),1),o[0]||(o[0]=e("p",{class:"text-xs text-muted-foreground"}," Updates instantly refresh the linked workflows and reports. ",-1))]),p(t.key)?(i(),a("button",{key:0,type:"button",class:"rounded-full border border-sidebar-border/70 px-4 py-2 text-xs font-semibold text-muted-foreground transition-colors hover:bg-muted/40",onClick:r=>c(t.key)}," Cancel editing ",8,K)):S("",!0)]),e("div",ee,[e("div",null,[e("label",te,n(t.title)+" value ",1),v(e("input",{"onUpdate:modelValue":r=>d[t.key].name=r,type:"text",class:"mt-2 w-full rounded-xl border border-sidebar-border/70 bg-background px-3 py-2 text-sm",placeholder:t.placeholder},null,8,se),[[C,d[t.key].name]]),d[t.key].errors.name?(i(),a("p",oe,n(d[t.key].errors.name),1)):S("",!0)]),e("button",{type:"button",class:"h-10 rounded-full bg-[#2563eb] px-6 text-sm font-semibold text-white transition-colors hover:bg-[#1d4ed8] disabled:cursor-not-allowed disabled:opacity-60",disabled:d[t.key].processing||!d[t.key].name.trim(),onClick:r=>U(t.key)},n(p(t.key)?"Save changes":"Add value"),9,re)])]),e("div",de,[h(t.key).length?(i(),a("div",ae,[o[1]||(o[1]=e("div",{class:"hidden grid-cols-[1.6fr_0.5fr_0.5fr_0.7fr] gap-4 border-b border-sidebar-border/60 bg-muted/30 px-4 py-3 text-xs font-semibold uppercase tracking-[0.2em] text-muted-foreground md:grid"},[e("span",null,"Value"),e("span",null,"Status"),e("span",null,"Usage"),e("span",{class:"text-right"},"Actions")],-1)),e("div",ie,[(i(!0),a(x,null,y(h(t.key),r=>(i(),a("div",{key:r.id,class:"flex flex-col gap-3 px-4 py-4 text-sm md:grid md:grid-cols-[1.6fr_0.5fr_0.5fr_0.7fr] md:items-center md:gap-4"},[e("div",null,[e("p",le,n(r.name),1),e("p",ce," Updated "+n(r.updatedAt?r.updatedAt:"â€”"),1)]),e("span",{class:q(["inline-flex w-fit items-center rounded-full px-2 py-1 text-xs font-semibold",r.isActive?"bg-emerald-100 text-emerald-700 dark:bg-emerald-500/20 dark:text-emerald-200":"bg-rose-100 text-rose-700 dark:bg-rose-500/20 dark:text-rose-200"])},n(r.isActive?"Active":"Removed"),3),e("span",ue,n(r.usageCount)+" linked ",1),e("div",me,[e("button",{type:"button",class:"rounded-full border border-sidebar-border/70 px-3 py-1.5 text-xs font-semibold text-muted-foreground transition-colors hover:bg-muted/40",onClick:k=>L(t.key,r)}," Edit ",8,fe),r.isActive?(i(),a("button",{key:0,type:"button",class:"rounded-full border border-rose-200 px-3 py-1.5 text-xs font-semibold text-rose-600 transition-colors hover:bg-rose-50 dark:border-rose-500/40 dark:hover:bg-rose-500/10",onClick:k=>V(t.key,r)}," Remove ",8,be)):(i(),a("button",{key:1,type:"button",class:"rounded-full border border-sidebar-border/70 px-3 py-1.5 text-xs font-semibold text-muted-foreground transition-colors hover:bg-muted/40",onClick:k=>E(t.key,r)}," Restore ",8,pe))])]))),128))])])):(i(),a("div",ne,n(t.emptyLabel),1))])])),64))])]),_:1})],64))}});export{_e as default};
