import{d as I,r as k,g as N,c as o,a as i,u as m,h as S,w as c,b as e,l as g,e as x,t as s,k as w,j as T,v as V,p as a,o as d,F as f,n as _,s as $}from"./app-Bz5YFX80.js";import{_ as j}from"./AppLayout.vue_vue_type_script_setup_true_lang-Bk3RW129.js";import{d as B}from"./lazy-CSzc0j1S.js";const D={class:"flex flex-1 flex-col gap-6 p-6"},R={class:"rounded-3xl border border-sidebar-border/60 bg-background p-6"},F={class:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between"},U={class:"flex flex-wrap gap-3"},E={class:"grid gap-4 lg:grid-cols-2 xl:grid-cols-4"},z={class:"rounded-2xl border border-sidebar-border/60 bg-background p-5"},K={class:"mt-4 text-3xl font-semibold"},L={class:"rounded-2xl border border-sidebar-border/60 bg-background p-5"},M={class:"mt-4 text-3xl font-semibold"},O={class:"rounded-2xl border border-sidebar-border/60 bg-background p-5"},P={class:"mt-4 text-3xl font-semibold"},G={class:"rounded-2xl border border-sidebar-border/60 bg-background p-5"},H={class:"mt-4 text-3xl font-semibold"},J={class:"rounded-3xl border border-sidebar-border/60 bg-background p-6"},Q={class:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between"},W={class:"flex flex-col gap-3 sm:flex-row sm:items-center"},X={class:"relative"},Y={class:"flex flex-wrap gap-2"},Z={key:0,class:"text-xs text-muted-foreground"},ee={key:1,class:"text-xs text-muted-foreground"},te={key:0,class:"mt-6 overflow-hidden rounded-2xl border border-sidebar-border/60"},re={key:0,class:"rounded-2xl border border-dashed border-sidebar-border/70 p-8 text-center text-sm text-muted-foreground"},se={class:"divide-y divide-sidebar-border/60"},oe={class:"font-semibold"},de={class:"text-muted-foreground"},ne={class:"text-muted-foreground"},le={class:"inline-flex items-center rounded-full px-2 py-1 text-xs font-semibold bg-blue-100 text-blue-700 dark:bg-blue-500/20 dark:text-blue-200"},ie={class:"flex justify-end"},ae={key:1,class:"mt-6 rounded-2xl border border-dashed border-sidebar-border/70 p-8 text-center text-sm text-muted-foreground"},ue={key:2,class:"mt-6 overflow-hidden rounded-2xl border border-sidebar-border/60"},be={class:"divide-y divide-sidebar-border/60"},me={class:"font-semibold"},ce={class:"text-xs text-muted-foreground"},xe={key:0},fe={class:"text-xs font-semibold tracking-[0.2em] text-muted-foreground"},pe={class:"flex justify-end"},ye=I({__name:"Inventory",props:{items:{},borrowedRequests:{},filters:{},counts:{}},setup(n){const v=n,q=[{title:"Dashboard",href:B().url},{title:"Inventory",href:"/inventory"}],u=k(v.filters.search??""),l=k(v.filters.status??"all"),C=N(()=>u.value.trim().length>0||l.value!=="all");let p=null;function h(){$.get("/inventory",{search:u.value.trim(),status:l.value},{preserveState:!0,replace:!0})}function A(){p&&window.clearTimeout(p),p=window.setTimeout(()=>{h()},300)}function b(y){l.value=y,h()}return(y,t)=>(d(),o(f,null,[i(m(S),{title:"Inventory"}),i(j,{breadcrumbs:q},{default:c(()=>[e("div",D,[e("section",R,[e("div",F,[t[6]||(t[6]=e("div",{class:"space-y-2"},[e("p",{class:"text-xs uppercase tracking-[0.3em] text-muted-foreground"}," Inventory "),e("h1",{class:"text-2xl font-semibold"},"Inventory registry"),e("p",{class:"text-sm text-muted-foreground"}," Track registered equipment and archived assets in one consolidated view. ")],-1)),e("div",U,[i(m(g),{href:"/admin/enrollments/create",class:"rounded-full bg-[#0f172a] px-4 py-2 text-sm font-semibold text-white transition-colors hover:bg-[#1e293b]"},{default:c(()=>[...t[5]||(t[5]=[x(" Enroll new item ",-1)])]),_:1})])])]),e("section",E,[e("div",z,[t[7]||(t[7]=e("p",{class:"text-xs uppercase tracking-[0.2em] text-muted-foreground"}," Active assets ",-1)),e("p",K,s(n.counts.active),1),t[8]||(t[8]=e("p",{class:"mt-2 text-sm text-muted-foreground"}," Currently operational in inventory. ",-1))]),e("div",L,[t[9]||(t[9]=e("p",{class:"text-xs uppercase tracking-[0.2em] text-muted-foreground"}," Archived ",-1)),e("p",M,s(n.counts.archived),1),t[10]||(t[10]=e("p",{class:"mt-2 text-sm text-muted-foreground"}," Deactivated or retired equipment. ",-1))]),e("div",O,[t[11]||(t[11]=e("p",{class:"text-xs uppercase tracking-[0.2em] text-muted-foreground"}," Borrowed ",-1)),e("p",P,s(n.counts.borrowed),1),t[12]||(t[12]=e("p",{class:"mt-2 text-sm text-muted-foreground"}," Pending borrow requests. Completed requests are removed. ",-1))]),e("div",G,[t[13]||(t[13]=e("p",{class:"text-xs uppercase tracking-[0.2em] text-muted-foreground"}," Total registry ",-1)),e("p",H,s(n.counts.active+n.counts.archived),1),t[14]||(t[14]=e("p",{class:"mt-2 text-sm text-muted-foreground"}," All items registered in the system. ",-1))])]),e("section",J,[e("div",Q,[e("div",W,[e("div",X,[T(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>u.value=r),type:"text",class:"w-full rounded-full border border-sidebar-border/70 bg-background px-4 py-2.5 text-sm",placeholder:"Search by equipment name",onInput:A},null,544),[[V,u.value]])]),e("div",Y,[e("button",{type:"button",class:a(["rounded-full border px-3 py-1.5 text-xs font-semibold uppercase tracking-[0.2em] transition",l.value==="all"?"border-transparent bg-[#0f172a] text-white":"border-sidebar-border/70 text-muted-foreground hover:bg-muted/40"]),onClick:t[1]||(t[1]=r=>b("all"))}," All ",2),e("button",{type:"button",class:a(["rounded-full border px-3 py-1.5 text-xs font-semibold uppercase tracking-[0.2em] transition",l.value==="active"?"border-transparent bg-emerald-600 text-white":"border-sidebar-border/70 text-muted-foreground hover:bg-muted/40"]),onClick:t[2]||(t[2]=r=>b("active"))}," Active ",2),e("button",{type:"button",class:a(["rounded-full border px-3 py-1.5 text-xs font-semibold uppercase tracking-[0.2em] transition",l.value==="archived"?"border-transparent bg-amber-600 text-white":"border-sidebar-border/70 text-muted-foreground hover:bg-muted/40"]),onClick:t[3]||(t[3]=r=>b("archived"))}," Archived ",2),e("button",{type:"button",class:a(["rounded-full border px-3 py-1.5 text-xs font-semibold uppercase tracking-[0.2em] transition",l.value==="borrowed"?"border-transparent bg-blue-600 text-white":"border-sidebar-border/70 text-muted-foreground hover:bg-muted/40"]),onClick:t[4]||(t[4]=r=>b("borrowed"))}," Borrowed ",2)])]),C.value&&l.value!=="borrowed"?(d(),o("p",Z," Showing "+s(n.items.length)+" result(s) for current filters. ",1)):l.value==="borrowed"?(d(),o("p",ee,s(n.borrowedRequests.length)+" active borrow request(s). Completed requests are removed from this list. ",1)):w("",!0)]),l.value==="borrowed"?(d(),o("div",te,[n.borrowedRequests.length?(d(),o(f,{key:1},[t[16]||(t[16]=e("div",{class:"hidden grid-cols-[1fr_1fr_0.8fr_0.6fr_0.6fr] gap-4 border-b border-sidebar-border/60 bg-muted/30 px-4 py-3 text-xs font-semibold uppercase tracking-[0.2em] text-muted-foreground md:grid"},[e("span",null,"Control ticket"),e("span",null,"Requester"),e("span",null,"Office"),e("span",null,"Status"),e("span",{class:"text-right"},"Actions")],-1)),e("div",se,[(d(!0),o(f,null,_(n.borrowedRequests,r=>(d(),o("div",{key:r.id,class:"flex flex-col gap-3 px-4 py-4 text-sm md:grid md:grid-cols-[1fr_1fr_0.8fr_0.6fr_0.6fr] md:items-center md:gap-4"},[e("p",oe,s(r.controlTicketNumber),1),e("p",de,s(r.requesterName??"—"),1),e("p",ne,s(r.office??"—"),1),e("span",le,s(r.status??"—"),1),e("div",ie,[i(m(g),{href:r.showUrl,class:"rounded-full border border-sidebar-border/70 px-3 py-1.5 text-xs font-semibold text-muted-foreground transition-colors hover:bg-muted/40"},{default:c(()=>[...t[15]||(t[15]=[x(" View ",-1)])]),_:1},8,["href"])])]))),128))])],64)):(d(),o("div",re," No active borrow requests. Completed borrows are removed from this list. "))])):n.items.length?(d(),o("div",ue,[t[18]||(t[18]=e("div",{class:"hidden grid-cols-[1.2fr_0.8fr_0.6fr_0.6fr] gap-4 border-b border-sidebar-border/60 bg-muted/30 px-4 py-3 text-xs font-semibold uppercase tracking-[0.2em] text-muted-foreground md:grid"},[e("span",null,"Equipment"),e("span",null,"Unique ID"),e("span",null,"Status"),e("span",{class:"text-right"},"Actions")],-1)),e("div",be,[(d(!0),o(f,null,_(n.items,r=>(d(),o("div",{key:r.rowKey,class:"flex flex-col gap-3 px-4 py-4 text-sm md:grid md:grid-cols-[1.2fr_0.8fr_0.6fr_0.6fr] md:items-center md:gap-4"},[e("div",null,[e("p",me,s(r.equipmentName),1),e("p",ce,[x(s(r.brand||"Unspecified brand")+" ",1),r.model?(d(),o("span",xe," • "+s(r.model),1)):w("",!0)])]),e("p",fe,s(r.uniqueId),1),e("span",{class:a(["inline-flex items-center rounded-full px-2 py-1 text-xs font-semibold",r.status==="active"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-500/20 dark:text-emerald-200":"bg-amber-100 text-amber-700 dark:bg-amber-500/20 dark:text-amber-200"])},s(r.status==="active"?"Active":"Archived"),3),e("div",pe,[i(m(g),{href:`/inventory/${r.uniqueId}`,class:"rounded-full border border-sidebar-border/70 px-3 py-1.5 text-xs font-semibold text-muted-foreground transition-colors hover:bg-muted/40"},{default:c(()=>[...t[17]||(t[17]=[x(" View ",-1)])]),_:1},8,["href"])])]))),128))])])):(d(),o("div",ae," No inventory records match your filters. "))])])]),_:1})],64))}});export{ye as default};
