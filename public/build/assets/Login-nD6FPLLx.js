import{d as U,r as E,f,g,y as M,c as i,a as b,b as t,u as s,h as F,I as j,p as c,i as y,j as d,k as u,v as p,t as n,e as w,B,w as N,l as O,E as P,F as k,n as D,o as r}from"./app-hprv82iD.js";const L={class:"min-h-screen bg-slate-950 text-white"},R={class:"mx-auto flex min-h-screen w-full max-w-6xl items-center px-6"},z={class:"grid w-full gap-10 lg:grid-cols-[1fr_460px]"},A={class:"rounded-3xl border border-slate-800 bg-slate-900/70 p-8 shadow-2xl shadow-black/40"},I={class:"flex gap-2 rounded-2xl bg-slate-950/60 p-1 text-sm font-semibold"},$={key:0,class:"mt-2 text-sm text-rose-400"},T={key:0,class:"mt-2 text-sm text-rose-400"},q={class:"flex items-center justify-between text-sm text-slate-400"},J={class:"flex items-center gap-2"},G=["disabled"],H={class:"grid gap-4 sm:grid-cols-2"},K={class:"sm:col-span-2"},Q={key:0,class:"mt-2 text-sm text-rose-400"},W={key:0,class:"mt-2 text-sm text-rose-400"},X=["value"],Y={key:0,class:"mt-2 text-sm text-rose-400"},Z={key:0,class:"mt-2 text-sm"},ee={key:1,class:"mt-2 text-sm text-rose-400"},te={key:0,class:"mt-2 text-sm text-rose-400"},se=["disabled"],ie=U({__name:"Login",props:{offices:{}},setup(v){const h=v,m=E("signin"),a=f({email:"",password:"",remember:!1}),o=f({name:"",position_title:"",office_designation_id:null,email:"",password:""}),_=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,x=g(()=>_.test(o.email)),V=g(()=>o.name.trim().length>0&&o.position_title.trim().length>0&&o.office_designation_id!==null&&x.value&&o.password.length>0),S=()=>{a.post("/login")},C=()=>{o.post("/register")};return M(()=>{Object.keys(o.errors).length>0&&(m.value="register")}),(oe,e)=>(r(),i(k,null,[b(s(F),{title:"Sign in or register"}),t("div",L,[t("div",R,[t("div",z,[e[21]||(e[21]=j('<div class="flex flex-col gap-6"><p class="text-xs font-semibold uppercase tracking-[0.3em] text-slate-400"> MISO 360 Access </p><h1 class="text-4xl font-semibold leading-tight"> Secure access for every MISO account </h1><p class="max-w-xl text-base text-slate-300"> Sign in to keep operations moving, or create your account in a guided flow that verifies your office identity. </p><div class="flex items-center gap-3 text-sm text-slate-400"><span class="h-px w-12 bg-slate-700"></span> Email verification required before dashboard access </div></div>',1)),t("div",A,[t("div",I,[t("button",{type:"button",class:c(["flex-1 rounded-2xl px-4 py-2 transition",m.value==="signin"?"bg-sky-500 text-slate-900":"text-slate-300 hover:text-white"]),onClick:e[0]||(e[0]=l=>m.value="signin")}," Sign in ",2),t("button",{type:"button",class:c(["flex-1 rounded-2xl px-4 py-2 transition",m.value==="register"?"bg-sky-500 text-slate-900":"text-slate-300 hover:text-white"]),onClick:e[1]||(e[1]=l=>m.value="register")}," Register ",2)]),m.value==="signin"?(r(),i("form",{key:0,class:"mt-6 flex flex-col gap-5",onSubmit:y(S,["prevent"])},[t("div",null,[e[10]||(e[10]=t("label",{for:"login-email",class:"text-xs font-semibold uppercase tracking-wide text-slate-400"}," Email address ",-1)),d(t("input",{id:"login-email","onUpdate:modelValue":e[2]||(e[2]=l=>s(a).email=l),type:"email",autocomplete:"username",class:"mt-2 w-full rounded-xl border border-slate-700 bg-slate-950 px-4 py-3 text-sm text-white outline-none transition focus:border-sky-500 focus:ring-2 focus:ring-sky-500/30",placeholder:"you@example.com"},null,512),[[p,s(a).email]]),s(a).errors.email?(r(),i("p",$,n(s(a).errors.email),1)):u("",!0)]),t("div",null,[e[11]||(e[11]=t("label",{for:"login-password",class:"text-xs font-semibold uppercase tracking-wide text-slate-400"}," Password ",-1)),d(t("input",{id:"login-password","onUpdate:modelValue":e[3]||(e[3]=l=>s(a).password=l),type:"password",autocomplete:"current-password",class:"mt-2 w-full rounded-xl border border-slate-700 bg-slate-950 px-4 py-3 text-sm text-white outline-none transition focus:border-sky-500 focus:ring-2 focus:ring-sky-500/30",placeholder:"••••••••"},null,512),[[p,s(a).password]]),s(a).errors.password?(r(),i("p",T,n(s(a).errors.password),1)):u("",!0)]),t("div",q,[t("label",J,[d(t("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>s(a).remember=l),type:"checkbox",class:"h-4 w-4 rounded border-slate-600 bg-slate-950 text-sky-500 focus:ring-sky-500"},null,512),[[B,s(a).remember]]),e[12]||(e[12]=w(" Remember me ",-1))]),b(s(O),{href:"/",class:"text-slate-300 transition hover:text-white"},{default:N(()=>[...e[13]||(e[13]=[w(" Back to home ",-1)])]),_:1})]),t("button",{type:"submit",class:"flex w-full items-center justify-center rounded-xl bg-sky-500 px-4 py-3 text-sm font-semibold text-slate-900 transition hover:bg-sky-400 disabled:cursor-not-allowed disabled:opacity-60",disabled:s(a).processing}," Log in ",8,G)],32)):(r(),i("form",{key:1,class:"mt-6 flex flex-col gap-5",onSubmit:y(C,["prevent"])},[t("div",H,[t("div",K,[e[14]||(e[14]=t("label",{for:"register-name",class:"text-xs font-semibold uppercase tracking-wide text-slate-400"}," Full name ",-1)),d(t("input",{id:"register-name","onUpdate:modelValue":e[5]||(e[5]=l=>s(o).name=l),type:"text",autocomplete:"name",class:"mt-2 w-full rounded-xl border border-slate-700 bg-slate-950 px-4 py-3 text-sm text-white outline-none transition focus:border-sky-500 focus:ring-2 focus:ring-sky-500/30",placeholder:"Juan Dela Cruz"},null,512),[[p,s(o).name]]),s(o).errors.name?(r(),i("p",Q,n(s(o).errors.name),1)):u("",!0)]),t("div",null,[e[15]||(e[15]=t("label",{for:"register-position",class:"text-xs font-semibold uppercase tracking-wide text-slate-400"}," Position/Designation ",-1)),d(t("input",{id:"register-position","onUpdate:modelValue":e[6]||(e[6]=l=>s(o).position_title=l),type:"text",autocomplete:"organization-title",class:"mt-2 w-full rounded-xl border border-slate-700 bg-slate-950 px-4 py-3 text-sm text-white outline-none transition focus:border-sky-500 focus:ring-2 focus:ring-sky-500/30",placeholder:"Administrative Officer"},null,512),[[p,s(o).position_title]]),s(o).errors.position_title?(r(),i("p",W,n(s(o).errors.position_title),1)):u("",!0)]),t("div",null,[e[17]||(e[17]=t("label",{for:"register-office",class:"text-xs font-semibold uppercase tracking-wide text-slate-400"}," Office ",-1)),d(t("select",{id:"register-office","onUpdate:modelValue":e[7]||(e[7]=l=>s(o).office_designation_id=l),class:"mt-2 w-full rounded-xl border border-slate-700 bg-slate-950 px-4 py-3 text-sm text-white outline-none transition focus:border-sky-500 focus:ring-2 focus:ring-sky-500/30"},[e[16]||(e[16]=t("option",{value:null,disabled:""}," Select your office ",-1)),(r(!0),i(k,null,D(h.offices??[],l=>(r(),i("option",{key:l.id,value:l.id},n(l.name),9,X))),128))],512),[[P,s(o).office_designation_id,void 0,{number:!0}]]),s(o).errors.office_designation_id?(r(),i("p",Y,n(s(o).errors.office_designation_id),1)):u("",!0)])]),t("div",null,[e[18]||(e[18]=t("label",{for:"register-email",class:"text-xs font-semibold uppercase tracking-wide text-slate-400"}," Email address ",-1)),d(t("input",{id:"register-email","onUpdate:modelValue":e[8]||(e[8]=l=>s(o).email=l),type:"email",autocomplete:"email",class:"mt-2 w-full rounded-xl border border-slate-700 bg-slate-950 px-4 py-3 text-sm text-white outline-none transition focus:border-sky-500 focus:ring-2 focus:ring-sky-500/30",placeholder:"you@example.com"},null,512),[[p,s(o).email]]),s(o).email.length?(r(),i("div",Z,[t("span",{class:c(x.value?"text-emerald-400":"text-rose-400")},n(x.value?"Email format looks good.":"Enter a valid email address."),3)])):u("",!0),s(o).errors.email?(r(),i("p",ee,n(s(o).errors.email),1)):u("",!0)]),t("div",null,[e[19]||(e[19]=t("label",{for:"register-password",class:"text-xs font-semibold uppercase tracking-wide text-slate-400"}," Password ",-1)),d(t("input",{id:"register-password","onUpdate:modelValue":e[9]||(e[9]=l=>s(o).password=l),type:"password",autocomplete:"new-password",class:"mt-2 w-full rounded-xl border border-slate-700 bg-slate-950 px-4 py-3 text-sm text-white outline-none transition focus:border-sky-500 focus:ring-2 focus:ring-sky-500/30",placeholder:"Create a password"},null,512),[[p,s(o).password]]),s(o).errors.password?(r(),i("p",te,n(s(o).errors.password),1)):u("",!0)]),t("button",{type:"submit",class:"flex w-full items-center justify-center rounded-xl bg-sky-500 px-4 py-3 text-sm font-semibold text-slate-900 transition hover:bg-sky-400 disabled:cursor-not-allowed disabled:opacity-60",disabled:s(o).processing||!V.value}," Create account ",8,se),e[20]||(e[20]=t("p",{class:"text-xs text-slate-400"}," A one-time verification link will be sent to your email. ",-1))],32))])])])])],64))}});export{ie as default};
