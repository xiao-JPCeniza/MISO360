import{d as A,f as N,r as k,g as V,c as a,a as n,u as t,h as L,w as h,b as r,i as M,k as m,e as d,p as x,o as l,F as c,t as u,j as f,v,B as P,l as B}from"./app-Cclhwly9.js";import{_ as R}from"./AppLayout.vue_vue_type_script_setup_true_lang-pl8mKwt0.js";import{d as F}from"./lazy-CSzc0j1S.js";import{U as I,A as T,a as G}from"./upload-BeUrIptr.js";import{I as O}from"./image-BXPBYIkh.js";const S={class:"flex flex-1 flex-col gap-8 p-6"},E={class:"rounded-3xl border border-sidebar-border/50 bg-linear-to-br from-card to-card/80 p-6 shadow-lg shadow-black/5 dark:from-card dark:to-card/90 dark:shadow-black/20"},$=["src"],W={key:0,class:"mt-2 text-sm text-rose-600"},z={class:"grid gap-6 sm:grid-cols-1"},J={key:0,class:"mt-2 text-sm text-rose-600"},Y={key:0,class:"mt-2 text-sm text-rose-600"},q={class:"mt-3 flex gap-3"},H={key:0,class:"mt-2 text-sm text-rose-600"},K={key:0,class:"mt-2 text-sm text-rose-600"},Q={class:"flex items-center gap-3 rounded-xl border border-sidebar-border/50 bg-muted/20 p-4"},X={key:0,class:"text-sm text-rose-600"},Z={class:"flex flex-wrap gap-3 border-t border-sidebar-border/50 pt-6"},ee=["disabled"],le=A({__name:"Create",setup(re){const w=[{title:"Dashboard",href:F().url},{title:"Post Management",href:"/admin/posts"},{title:"Add slide",href:"/admin/posts/create"}],o=N({image:null,title:"",subtitle:"",text_position:"left",sort_order:"",is_active:!0}),b=k(null),p=k(!1),y=V(()=>b.value);function _(s){const i=s.target.files?.[0];g(i??null)}function g(s){b.value&&URL.revokeObjectURL(b.value),b.value=null,o.image=s,o.clearErrors("image"),s&&(b.value=URL.createObjectURL(s))}function D(s){s.preventDefault(),p.value=!1;const e=s.dataTransfer?.files?.[0];e&&e.type.startsWith("image/")&&g(e)}function C(s){s.preventDefault(),p.value=!0}function U(){p.value=!1}function j(){o.transform(s=>({...s,sort_order:s.sort_order===""||s.sort_order===null?null:Number(s.sort_order)})).post("/admin/posts",{forceFormData:!0,onSuccess:()=>{o.reset(),g(null)}})}return(s,e)=>(l(),a(c,null,[n(t(L),{title:"Add slide – Post Management"}),n(R,{breadcrumbs:w},{default:h(()=>[r("div",S,[r("section",E,[e[19]||(e[19]=r("h1",{class:"text-2xl font-bold tracking-tight text-foreground"},"Add slide",-1)),e[20]||(e[20]=r("p",{class:"mt-1 text-sm text-muted-foreground"}," Create a new profile slide for the homepage carousel. Drag and drop an image or use the button below. ",-1)),r("form",{class:"mt-8 space-y-8",onSubmit:M(j,["prevent"])},[r("div",null,[e[9]||(e[9]=r("label",{class:"block text-sm font-semibold text-foreground"},[d(" Background image "),r("span",{class:"text-rose-500"},"*")],-1)),r("div",{class:x(["relative mt-3 flex min-h-[200px] flex-col items-center justify-center rounded-2xl border-2 border-dashed transition-all duration-200",p.value?"border-primary bg-primary/10 dark:bg-primary/20":t(o).errors.image?"border-rose-300 bg-rose-50/50 dark:border-rose-500/50 dark:bg-rose-500/10":"border-sidebar-border/70 bg-muted/30 hover:border-primary/50 hover:bg-muted/50 dark:bg-muted/20"]),onDragover:C,onDragleave:U,onDrop:D},[y.value?(l(),a(c,{key:0},[r("img",{src:y.value,alt:"Preview",class:"max-h-64 w-full rounded-xl object-contain object-center shadow-inner"},null,8,$),e[6]||(e[6]=r("p",{class:"mt-3 text-sm font-medium text-muted-foreground"}," Click or drag a new image to replace ",-1))],64)):(l(),a(c,{key:1},[n(t(I),{class:"h-12 w-12 text-muted-foreground"}),e[7]||(e[7]=r("p",{class:"mt-3 text-sm font-medium text-foreground"}," Drag and drop an image here, or click to browse ",-1)),e[8]||(e[8]=r("p",{class:"mt-1 text-xs text-muted-foreground"}," JPG, PNG or WebP · Max 5 MB ",-1))],64)),r("input",{type:"file",accept:"image/jpeg,image/png,image/webp",class:"absolute inset-0 cursor-pointer opacity-0",onChange:_},null,32)],34),t(o).errors.image?(l(),a("p",W,u(t(o).errors.image),1)):m("",!0)]),r("div",z,[r("div",null,[e[10]||(e[10]=r("label",{class:"block text-sm font-semibold text-foreground"},[d(" Title "),r("span",{class:"text-rose-500"},"*")],-1)),f(r("input",{"onUpdate:modelValue":e[0]||(e[0]=i=>t(o).title=i),type:"text",maxlength:"255",placeholder:"e.g. DRIVEN BY IMAGINATION",class:"mt-2 w-full rounded-xl border border-sidebar-border/70 bg-background px-4 py-3 text-sm transition-shadow focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"},null,512),[[v,t(o).title]]),t(o).errors.title?(l(),a("p",J,u(t(o).errors.title),1)):m("",!0)]),r("div",null,[e[11]||(e[11]=r("label",{class:"block text-sm font-semibold text-foreground"}," Subtitle ",-1)),f(r("input",{"onUpdate:modelValue":e[1]||(e[1]=i=>t(o).subtitle=i),type:"text",maxlength:"500",placeholder:"e.g. Power to do Good",class:"mt-2 w-full rounded-xl border border-sidebar-border/70 bg-background px-4 py-3 text-sm transition-shadow focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"},null,512),[[v,t(o).subtitle]]),t(o).errors.subtitle?(l(),a("p",Y,u(t(o).errors.subtitle),1)):m("",!0)])]),r("div",null,[e[14]||(e[14]=r("label",{class:"block text-sm font-semibold text-foreground"},[d(" Text position on slide "),r("span",{class:"text-rose-500"},"*")],-1)),r("div",q,[r("button",{type:"button",class:x(["flex flex-1 items-center justify-center gap-2 rounded-xl border-2 py-3 transition-all",t(o).text_position==="left"?"border-primary bg-primary/10 text-primary dark:bg-primary/20":"border-sidebar-border/70 bg-muted/30 text-muted-foreground hover:border-sidebar-border hover:bg-muted/50"]),onClick:e[2]||(e[2]=i=>t(o).text_position="left")},[n(t(T),{class:"h-5 w-5"}),e[12]||(e[12]=d(" Left ",-1))],2),r("button",{type:"button",class:x(["flex flex-1 items-center justify-center gap-2 rounded-xl border-2 py-3 transition-all",t(o).text_position==="right"?"border-primary bg-primary/10 text-primary dark:bg-primary/20":"border-sidebar-border/70 bg-muted/30 text-muted-foreground hover:border-sidebar-border hover:bg-muted/50"]),onClick:e[3]||(e[3]=i=>t(o).text_position="right")},[n(t(G),{class:"h-5 w-5"}),e[13]||(e[13]=d(" Right ",-1))],2)]),t(o).errors.text_position?(l(),a("p",H,u(t(o).errors.text_position),1)):m("",!0)]),r("div",null,[e[15]||(e[15]=r("label",{class:"block text-sm font-semibold text-foreground"}," Display order ",-1)),f(r("input",{"onUpdate:modelValue":e[4]||(e[4]=i=>t(o).sort_order=i),type:"number",min:"0",placeholder:"0",class:"mt-2 w-full max-w-[140px] rounded-xl border border-sidebar-border/70 bg-background px-4 py-3 text-sm transition-shadow focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"},null,512),[[v,t(o).sort_order,void 0,{number:!0}]]),t(o).errors.sort_order?(l(),a("p",K,u(t(o).errors.sort_order),1)):m("",!0),e[16]||(e[16]=r("p",{class:"mt-1 text-xs text-muted-foreground"}," Lower numbers appear first in the carousel. ",-1))]),r("div",Q,[f(r("input",{"onUpdate:modelValue":e[5]||(e[5]=i=>t(o).is_active=i),type:"checkbox",id:"create-is-active",class:"h-4 w-4 rounded border-sidebar-border/70 text-primary focus:ring-primary"},null,512),[[P,t(o).is_active]]),e[17]||(e[17]=r("label",{for:"create-is-active",class:"text-sm font-medium text-foreground"}," Active — show this slide on the profile section ",-1))]),t(o).errors.is_active?(l(),a("p",X,u(t(o).errors.is_active),1)):m("",!0),r("div",Z,[r("button",{type:"submit",class:"inline-flex items-center gap-2 rounded-xl bg-primary px-5 py-2.5 text-sm font-semibold text-primary-foreground shadow-md shadow-primary/25 transition-all hover:shadow-lg hover:brightness-105 disabled:opacity-60 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",disabled:t(o).processing},[n(t(O),{class:"h-4 w-4"}),d(" "+u(t(o).processing?"Creating…":"Create slide"),1)],8,ee),n(t(B),{href:"/admin/posts",class:"inline-flex items-center rounded-xl border border-sidebar-border/70 px-5 py-2.5 text-sm font-semibold transition-colors hover:bg-muted/60 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"},{default:h(()=>[...e[18]||(e[18]=[d(" Cancel ",-1)])]),_:1})])],32)])])]),_:1})],64))}});export{le as default};
