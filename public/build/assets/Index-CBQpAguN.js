import{d as O,C as U,c as k,r as f,a as i,b as r,e as o,h as B,w as a,f as e,l as x,k as c,T as I,j as C,o as l,t as d,i as S,D as F,v as z,E as H,F as $,n as K,G as L,p as G,m as j,s as D}from"./app-DjKwfWyu.js";import{_ as q,a as J,b as Q,c as R,d as W}from"./DialogTitle.vue_vue_type_script_setup_true_lang-CnPfr2kM.js";import{_ as X}from"./DialogFooter.vue_vue_type_script_setup_true_lang-JqOivcN2.js";import{_ as Y}from"./AppLayout.vue_vue_type_script_setup_true_lang-CGMNLiAn.js";import{d as Z}from"./index-CSzc0j1S.js";import{I as m}from"./image-B3Hio8v7.js";import{E as ee,a as te,H as se,P as re,T as oe}from"./trash-2-DNwP0HJ-.js";const ae={class:"flex flex-1 flex-col gap-8 p-6"},le={class:"rounded-3xl border border-sidebar-border/50 bg-linear-to-br from-card to-card/80 p-6 shadow-lg shadow-black/5 dark:from-card dark:to-card/90 dark:shadow-black/20"},ne={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},ie={key:0,class:"mt-4 flex items-center gap-3 rounded-xl border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm text-emerald-800 shadow-sm dark:border-emerald-500/30 dark:bg-emerald-500/15 dark:text-emerald-200",role:"status"},de={class:"mt-6 flex flex-wrap items-center gap-3"},ue={class:"relative flex-1 min-w-[200px]"},ce={class:"space-y-4"},fe={key:0,class:"rounded-2xl border-2 border-dashed border-sidebar-border/60 bg-muted/20 p-12 text-center"},me={class:"mx-auto flex h-14 w-14 items-center justify-center rounded-2xl bg-muted/60"},pe={key:1,class:"grid gap-5 sm:grid-cols-2 lg:grid-cols-3"},be={class:"relative aspect-video w-full overflow-hidden bg-muted/40"},ge=["src","alt"],xe={key:1,class:"flex h-full w-full items-center justify-center text-muted-foreground"},he={class:"absolute left-3 top-3 flex flex-wrap gap-2"},ve={class:"rounded-lg bg-black/50 px-2 py-1 text-xs font-medium text-white backdrop-blur-sm"},ye=["title"],we={class:"flex flex-1 flex-col gap-3 p-4"},_e={class:"line-clamp-2 font-semibold leading-snug text-foreground"},ke={key:0,class:"line-clamp-2 text-sm text-muted-foreground"},Ce={class:"mt-auto flex items-center justify-between gap-2 border-t border-sidebar-border/50 pt-3"},Se={class:"flex items-center gap-1.5 text-xs text-muted-foreground"},$e={class:"flex items-center gap-2"},je=["onClick"],Oe=O({__name:"Index",props:{slides:{},filters:{}},setup(A){const p=A,h=U(),v=k(()=>h.props.flash?.status??null),T=f(!!h.props.flash?.status),M=[{title:"Dashboard",href:Z().url},{title:"Post Management",href:"/admin/posts"}],b=f(p.filters.search),g=f(p.filters.sort),u=f(null),y=k(()=>p.slides);function w(){D.get("/admin/posts",{search:b.value,sort:g.value},{preserveState:!0})}function P(n){u.value=n}function _(){u.value=null}function E(){if(u.value===null)return;const n=u.value.id;D.delete(`/admin/posts/${n}`,{preserveScroll:!0,onSuccess:()=>{u.value=null}})}function V(n,t=60){return n?n.length<=t?n:n.slice(0,t).trim()+"…":""}return(n,t)=>(l(),i($,null,[r(o(B),{title:"Post Management"}),r(Y,{breadcrumbs:M},{default:a(()=>[e("div",ae,[e("section",le,[e("div",ne,[t[4]||(t[4]=e("div",{class:"space-y-1"},[e("p",{class:"text-xs font-semibold uppercase tracking-[0.25em] text-primary/80"}," Super Admin "),e("h1",{class:"text-2xl font-bold tracking-tight text-foreground sm:text-3xl"}," Post Management "),e("p",{class:"max-w-lg text-sm text-muted-foreground"}," Manage profile slides shown on the homepage. Create, reorder, and toggle visibility with a few clicks. ")],-1)),r(o(x),{href:"/admin/posts/create",class:"inline-flex shrink-0 items-center gap-2 rounded-xl bg-primary px-5 py-2.5 text-sm font-semibold text-primary-foreground shadow-md shadow-primary/25 transition-all duration-200 hover:shadow-lg hover:shadow-primary/30 hover:brightness-105 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"},{default:a(()=>[r(o(m),{class:"h-4 w-4"}),t[3]||(t[3]=c(" Add slide ",-1))]),_:1})]),r(I,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"opacity-0 translate-y-1","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:a(()=>[v.value&&T.value?(l(),i("div",ie,[t[5]||(t[5]=e("span",{class:"h-2 w-2 shrink-0 rounded-full bg-emerald-500"},null,-1)),c(" "+d(v.value),1)])):C("",!0)]),_:1}),e("div",de,[e("div",ue,[S(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>b.value=s),type:"search",placeholder:"Search by title or subtitle…",class:"w-full rounded-xl border border-sidebar-border/70 bg-background py-2.5 pl-4 pr-4 text-sm transition-shadow focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",onKeyup:F(w,["enter"])},null,544),[[z,b.value]])]),S(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>g.value=s),class:"rounded-xl border border-sidebar-border/70 bg-background px-4 py-2.5 text-sm transition-shadow focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"},[...t[6]||(t[6]=[e("option",{value:"order"},"Sort by order",-1),e("option",{value:"latest"},"Latest updated",-1),e("option",{value:"active"},"Active first",-1)])],512),[[H,g.value]]),e("button",{type:"button",class:"rounded-xl border border-sidebar-border/70 bg-muted/50 px-4 py-2.5 text-sm font-medium transition-all hover:bg-muted focus:outline-none focus:ring-2 focus:ring-primary/20",onClick:w}," Apply ")])]),e("section",ce,[y.value.length===0?(l(),i("div",fe,[e("div",me,[r(o(m),{class:"h-7 w-7 text-muted-foreground"})]),t[8]||(t[8]=e("p",{class:"mt-4 font-medium text-foreground"},"No slides yet",-1)),t[9]||(t[9]=e("p",{class:"mt-1 text-sm text-muted-foreground"}," Add your first slide to show a carousel on the profile section. ",-1)),r(o(x),{href:"/admin/posts/create",class:"mt-6 inline-flex items-center gap-2 rounded-xl bg-primary px-5 py-2.5 text-sm font-semibold text-primary-foreground transition-all hover:brightness-105"},{default:a(()=>[r(o(m),{class:"h-4 w-4"}),t[7]||(t[7]=c(" Add slide ",-1))]),_:1})])):(l(),i("div",pe,[(l(!0),i($,null,K(y.value,(s,N)=>(l(),i("div",{key:s.id,class:"group relative flex flex-col overflow-hidden rounded-2xl border border-sidebar-border/50 bg-card shadow-md shadow-black/5 transition-all duration-300 hover:-translate-y-0.5 hover:shadow-xl hover:shadow-primary/5 dark:border-white/10 dark:shadow-black/15 dark:hover:shadow-primary/10",style:L({animationDelay:`${N*50}ms`})},[e("div",be,[s.imageUrl?(l(),i("img",{key:0,src:s.imageUrl,alt:s.title,class:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"},null,8,ge)):(l(),i("div",xe,[r(o(m),{class:"h-12 w-12 opacity-50"})])),e("div",he,[e("span",{class:G(["inline-flex items-center gap-1 rounded-lg px-2 py-1 text-xs font-medium backdrop-blur-sm",s.isActive?"bg-emerald-500/90 text-white dark:bg-emerald-500/80":"bg-rose-500/90 text-white dark:bg-rose-500/80"])},[s.isActive?(l(),j(o(ee),{key:0,class:"h-3 w-3"})):(l(),j(o(te),{key:1,class:"h-3 w-3"})),c(" "+d(s.isActive?"Active":"Inactive"),1)],2),e("span",ve,d(s.textPosition),1)]),e("span",{class:"absolute right-3 top-3 flex h-8 w-8 items-center justify-center rounded-lg bg-black/50 text-xs font-bold text-white backdrop-blur-sm",title:`Order: ${s.sortOrder}`},d(s.sortOrder),9,ye)]),e("div",we,[e("h3",_e,d(s.title),1),s.subtitle?(l(),i("p",ke,d(V(s.subtitle)),1)):C("",!0),e("div",Ce,[e("span",Se,[r(o(se),{class:"h-3.5 w-3.5"}),c(" "+d(s.sortOrder),1)]),e("div",$e,[r(o(x),{href:`/admin/posts/${s.id}/edit`,class:"inline-flex h-9 w-9 items-center justify-center rounded-lg border border-sidebar-border/60 bg-muted/40 text-muted-foreground transition-all hover:bg-primary hover:text-primary-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-ring",title:"Edit"},{default:a(()=>[r(o(re),{class:"h-4 w-4"})]),_:1},8,["href"]),e("button",{type:"button",class:"inline-flex h-9 w-9 items-center justify-center rounded-lg border border-rose-200 text-rose-600 transition-all hover:bg-rose-500 hover:text-white focus:outline-none focus:ring-2 focus:ring-rose-500/50 dark:border-rose-500/40",title:"Delete",onClick:De=>P(s)},[r(o(oe),{class:"h-4 w-4"})],8,je)])])])],4))),128))]))])]),r(o(q),{open:u.value!==null,"onUpdate:open":t[2]||(t[2]=s=>!s&&_())},{default:a(()=>[r(o(J),{class:"sm:max-w-md rounded-2xl border border-sidebar-border/60 shadow-2xl"},{default:a(()=>[r(o(Q),null,{default:a(()=>[r(o(R),{id:"delete-title",class:"text-lg font-semibold text-foreground"},{default:a(()=>[...t[10]||(t[10]=[c(" Delete this slide? ",-1)])]),_:1}),r(o(W),null,{default:a(()=>[c(" “"+d(u.value?.title)+"” and its image will be removed. This can’t be undone. ",1)]),_:1})]),_:1}),r(o(X),{class:"flex justify-end gap-3 sm:justify-end"},{default:a(()=>[e("button",{type:"button",class:"rounded-xl border border-sidebar-border/70 px-4 py-2.5 text-sm font-medium transition-colors hover:bg-muted/60",onClick:_}," Cancel "),e("button",{type:"button",class:"rounded-xl bg-rose-600 px-4 py-2.5 text-sm font-semibold text-white transition-colors hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-rose-500 focus:ring-offset-2",onClick:E}," Delete ")]),_:1})]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{Oe as default};
